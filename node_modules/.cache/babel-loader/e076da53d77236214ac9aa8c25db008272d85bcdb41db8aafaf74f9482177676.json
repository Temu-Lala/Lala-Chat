{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\LA_LA\\\\Desktop\\\\intern\\\\my chat(copy)\\\\Chatbase-master\\\\src\\\\components\\\\chat.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from 'react';\nimport './chat.css';\nimport sendIcon from '../sendIcon.svg';\nimport chatImage from './chat.png';\nimport AccountBoxIcon from '@mui/icons-material/AccountBox';\nimport fileupload from './file.png';\nimport { DatePicker } from '@gsebdev/react-simple-datepicker';\n\n//import ReactDOM from 'react-dom';\nimport Axios from 'axios';\nimport { baseUrl } from '../base';\nimport wellcomechat from './chat.png';\nimport SendIcon from '@mui/icons-material/Send';\nimport io from 'socket.io-client';\nimport { colors } from '@mui/material';\nimport InsertDriveFileIcon from '@mui/icons-material/InsertDriveFile';\nimport LogoutIcon from '@mui/icons-material/Logout';\nimport { useHistory } from 'react-router-dom/cjs/react-router-dom.min';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst socket = io(baseUrl, {\n  transports: ['websocket', 'polling', 'flashsocket']\n});\nfunction Chat(props) {\n  _s();\n  const history = useHistory();\n  //const sender = props.user.sender;\n  //const receiver = props.user.receiver;\n  const username = props.username;\n  const table_name = props.table_id;\n  const [msg, setMsg] = useState('');\n  const [media, setMedia] = useState(null);\n  const [chats, setChats] = useState([]);\n  const [receiver, setReceiver] = useState('');\n  const base = baseUrl;\n  const messageRef = useRef();\n  const textInput = React.useRef();\n  const fileinput = React.useRef();\n  const clearInput = () => (textInput.current.value = \"\", fileinput.current.value = null);\n\n  // function clearInput()\n  // {\n  //     extInput.current.value = \"\",\n  // fileinput.current.value =null\n\n  // }\n\n  //operations to perform when a different chat is loaded\n  useEffect(() => {\n    //check if a chat is selected\n    if (table_name !== 'DEFAULT') {\n      //retrieve chats\n      Axios.get(base + \"/chat\", {\n        params: {\n          table_name: table_name\n        }\n      }).then(response => {\n        setChats(response.data);\n      });\n\n      //retrieve receiver from user chat map table & set read receipts\n      Axios.get(base + \"/receiver\", {\n        params: {\n          user: props.username,\n          table_id: table_name\n        }\n      }).then(response => {\n        setReceiver(response.data);\n      });\n      socket.on('message', msgObj => {\n        setChats(msgObj);\n      });\n    }\n  }, [props]);\n\n  //scroll to bottom\n  useEffect(() => {\n    if (messageRef.current) {\n      messageRef.current.scrollIntoView({\n        behavior: 'smooth',\n        block: 'end',\n        inline: 'nearest'\n      });\n    }\n  });\n\n  //send message\n  const handleSubmit = evt => {\n    evt.preventDefault();\n    const d = new Date();\n    const msgId = username + receiver + Date.now();\n    const msgObj = {\n      table_name: table_name,\n      msgId: msgId,\n      sender: username,\n      receiver: receiver,\n      msg: msg,\n      img: media === null || media === void 0 ? void 0 : media.name,\n      time: d\n    };\n    const newChat = [...chats, msgObj];\n    const formData = new FormData();\n    formData.append('image', media);\n    formData.append('userdata', JSON.stringify(msgObj));\n    setChats(newChat);\n    socket.emit('message', newChat);\n    //console.log(msgObj);\n    Axios.post(base + \"/send\", formData, {\n      userdata: msgObj\n    }).then(() => {\n      alert(\"success\");\n    });\n  };\n  const logout = () => {\n    axios.get(base + \"/logout\").then(response => {\n      console.log(response.data);\n      history.replace(\"/login\");\n    });\n  };\n  const chatdisplay = /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"box\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \" chat-header container-name text-left d-flex justify-content-between align-content-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [\" \", /*#__PURE__*/_jsxDEV(AccountBoxIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 23\n        }, this), receiver, \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: logout,\n        className: \"logoutBtn\",\n        children: [\"Logout \", /*#__PURE__*/_jsxDEV(LogoutIcon, {\n          className: \"logout-icon\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 28\n        }, this), \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"messageDataCont\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"messageData\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"conversation-contener\",\n          children: chats.map(data => /*#__PURE__*/_jsxDEV(\"p\", {\n            class: data.receiver === username ? \"left\" : \"right\",\n            ref: messageRef,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"data\",\n              children: data.msg\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 148,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"time \",\n              children: [(new Date(data.time).getHours() % 12 || 12) + \":\" + (\"0\" + new Date(data.time).getMinutes()).slice(-2) + \" \" + (new Date(data.time).getHours() > 11 ? \"PM\" : \"AM\"), \"\\u2002\", /*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"readreceipts \",\n                style: {\n                  color: \"white\"\n                },\n                children: [data.status === 'READ' ? \"✔\" : \" \", \"\\u2714\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 150,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 149,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              class: \"clear\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 151,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n              src: 'http://localhost:3003/' + data.img,\n              onClick: () => window.open('http://localhost:3003/' + data.img, '_blank'),\n              style: {\n                width: \"100px\"\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 152,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 25\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"messageCont\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        className: \"d-flex\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            ref: textInput,\n            type: \"text\",\n            placeholder: \"Type your message here\",\n            onChange: e => setMsg(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            ref: fileinput,\n            type: \"file\",\n            placeholder: \"Type your message here\",\n            onChange: e => setMedia(e.target.files[0])\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"sendMsg\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"sendbut\",\n            type: \"submit\",\n            onClick: clearInput,\n            src: SendIcon,\n            children: /*#__PURE__*/_jsxDEV(SendIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 180,\n              columnNumber: 103\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 134,\n    columnNumber: 9\n  }, this);\n  const nulldisplay = /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"box\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \" chat-header container-name text-left d-flex justify-content-between align-content-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"user-name\",\n        children: \" User\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: logout,\n        className: \"logoutBtn\",\n        children: [\"Logout \", /*#__PURE__*/_jsxDEV(LogoutIcon, {\n          className: \"logout-icon\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 28\n        }, this), \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"messageDataCont\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"messageData\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"default\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: chatImage,\n            alt: \"chat\",\n            className: \"home-chat-image\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"default-bottom\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"home-prompt\",\n              children: [\"Welcome \", /*#__PURE__*/_jsxDEV(\"span\", {\n                children: username\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 203,\n                columnNumber: 63\n              }, this), \",\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 203,\n                columnNumber: 87\n              }, this), \"Click a user name to start a chat !\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 203,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"Made by: \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 204,\n                columnNumber: 40\n              }, this), \"@TemuLala \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 204,\n                columnNumber: 56\n              }, this), \"@BekiBere\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 204,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 189,\n    columnNumber: 9\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: table_name === 'DEFAULT' ? nulldisplay : chatdisplay\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 214,\n    columnNumber: 9\n  }, this);\n}\n_s(Chat, \"GsB6zX+6ZsiDuF7IZbfD9Ary9OQ=\", false, function () {\n  return [useHistory];\n});\n_c = Chat;\nexport default Chat;\nvar _c;\n$RefreshReg$(_c, \"Chat\");","map":{"version":3,"names":["React","useEffect","useRef","useState","sendIcon","chatImage","AccountBoxIcon","fileupload","DatePicker","Axios","baseUrl","wellcomechat","SendIcon","io","colors","InsertDriveFileIcon","LogoutIcon","useHistory","axios","jsxDEV","_jsxDEV","socket","transports","Chat","props","_s","history","username","table_name","table_id","msg","setMsg","media","setMedia","chats","setChats","receiver","setReceiver","base","messageRef","textInput","fileinput","clearInput","current","value","get","params","then","response","data","user","on","msgObj","scrollIntoView","behavior","block","inline","handleSubmit","evt","preventDefault","d","Date","msgId","now","sender","img","name","time","newChat","formData","FormData","append","JSON","stringify","emit","post","userdata","alert","logout","console","log","replace","chatdisplay","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","class","map","ref","getHours","getMinutes","slice","style","color","status","src","window","open","width","onSubmit","type","placeholder","onChange","e","target","files","nulldisplay","alt","_c","$RefreshReg$"],"sources":["C:/Users/LA_LA/Desktop/intern/my chat(copy)/Chatbase-master/src/components/chat.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\nimport './chat.css';\nimport sendIcon from '../sendIcon.svg';\nimport chatImage from './chat.png'\nimport AccountBoxIcon from '@mui/icons-material/AccountBox';\nimport fileupload from './file.png'\nimport {DatePicker} from '@gsebdev/react-simple-datepicker';\n\n//import ReactDOM from 'react-dom';\nimport Axios from 'axios';\nimport { baseUrl } from '../base';\nimport wellcomechat from './chat.png'\nimport SendIcon from '@mui/icons-material/Send';\nimport io from 'socket.io-client';\nimport { colors } from '@mui/material';\nimport InsertDriveFileIcon from '@mui/icons-material/InsertDriveFile';\nimport LogoutIcon from '@mui/icons-material/Logout';\nimport { useHistory } from 'react-router-dom/cjs/react-router-dom.min';\nimport axios from 'axios';\nconst socket = io(baseUrl, { transports: ['websocket', 'polling', 'flashsocket'] });\n\nfunction Chat(props) {\n\n    const history = useHistory()\n    //const sender = props.user.sender;\n    //const receiver = props.user.receiver;\n    const username = props.username;\n    const table_name = props.table_id;\n   \n    const [msg, setMsg] = useState('');\n    const [media,setMedia] = useState(null);\n    const [chats, setChats] = useState([]);\n    const [receiver, setReceiver] =useState('');\n    const base = baseUrl;\n    const messageRef = useRef();\n    const textInput = React.useRef();\n    const fileinput = React.useRef();\n    const clearInput = () => (textInput.current.value = \"\",\n    fileinput.current.value =null);\n\n\n    // function clearInput()\n    // {\n    //     extInput.current.value = \"\",\n    // fileinput.current.value =null\n\n    // }\n\n    //operations to perform when a different chat is loaded\n    useEffect(() => {\n\n        //check if a chat is selected\n        if (table_name !== 'DEFAULT') {\n            //retrieve chats\n            Axios.get(base + \"/chat\", {\n                params: {\n                    table_name: table_name\n                }\n            }).then(response => {\n                setChats(response.data);\n            });\n\n            //retrieve receiver from user chat map table & set read receipts\n            Axios.get(base + \"/receiver\", {\n                params: {\n                    user: props.username,\n                    table_id: table_name\n                }\n            }).then(response => {\n                setReceiver(response.data);\n            });\n\n            socket.on('message', (msgObj) => {\n                setChats(msgObj);\n            })\n        }\n    }, [props]);\n\n\n\n\n\n    //scroll to bottom\n    useEffect(() => {\n        if (messageRef.current) {\n            messageRef.current.scrollIntoView(\n                {\n                    behavior: 'smooth',\n                    block: 'end',\n                    inline: 'nearest'\n                })\n        }\n\n    })\n\n\n\n    //send message\n    const handleSubmit = (evt) => {\n        evt.preventDefault()\n        const d = new Date();\n        const msgId = username + receiver + Date.now();\n        const msgObj = { table_name: table_name, msgId: msgId, sender: username, receiver: receiver, msg: msg, img:media?.name,time: d };\n     \n        const newChat = [...chats, msgObj];\n        const formData = new FormData();\n        formData.append('image', media);\n        formData.append('userdata', JSON.stringify(msgObj));\n\n        setChats(newChat);\n        socket.emit('message', newChat);\n        //console.log(msgObj);\n        Axios.post(base + \"/send\",formData, {\n            userdata: msgObj,\n        }).then(() => {\n            alert(\"success\");\n        });\n       \n    }\n\n    const logout = ()=>{\n        axios.get(base+\"/logout\").then(response =>{\n            console.log(response.data)\n            history.replace(\"/login\");\n        })\n    };\n\n\n    \n\n\n\n    const chatdisplay =\n        <div className=\"box\">\n            \n            <div className=\" chat-header container-name text-left d-flex justify-content-between align-content-center\">\n                <div> <AccountBoxIcon/>{receiver} </div>\n                \n                <button onClick={logout} className=\"logoutBtn\">\n                    Logout <LogoutIcon className='logout-icon'/>{\" \"}\n                </button>\n            </div>\n            <div class=\"messageDataCont\">\n                <div class=\"messageData\">\n                    <div className='conversation-contener'> \n                    {chats.map(data => (\n                        <p class={data.receiver === username ? \"left\" : \"right\"} ref={messageRef}  >\n                            <div class=\"data\">{data.msg}</div>\n                            <div class=\"time \"  >{(new Date(data.time).getHours() % 12 || 12) + \":\" + (\"0\" + new Date(data.time).getMinutes()).slice(-2) + \" \" + (new Date(data.time).getHours() > 11 ? \"PM\" : \"AM\")}&ensp;\n                            <div class=\"readreceipts \" style={{color: \"white\"}}>{(data.status === 'READ' ? \"✔\" : \" \")}&#x2714;</div></div>\n                            <span class=\"clear\"></span>\n                            <img src={'http://localhost:3003/'+data.img}   onClick={()=>window.open('http://localhost:3003/'+data.img,'_blank')}  style={{width:\"100px\"}}></img>\n\n                        </p>\n                    ))}\n                    </div>\n                </div>\n            </div>\n            <div class=\"messageCont\">\n                <form onSubmit={handleSubmit} className=\"d-flex\">\n                    \n                    <label>\n                        <input\n                            ref={textInput}\n                            type=\"text\"\n                            placeholder=\"Type your message here\"\n                            onChange={e => setMsg(e.target.value)}\n                        />\n                        <input\n                            ref={fileinput}\n                            type=\"file\"\n                            placeholder=\"Type your message here\"\n                           \n                            onChange={e => setMedia(e.target.files[0])}\n                        />\n                    </label>\n                    <div></div>\n                    <div className=\"sendMsg\">\n\n                        <button className='sendbut' type=\"submit\" onClick={clearInput} src={SendIcon}><SendIcon/></button>\n                    </div>\n                </form>\n            </div>\n        </div>;\n\n\n\n    const nulldisplay =\n        <div className=\"box\">\n            <div className=\" chat-header container-name text-left d-flex justify-content-between align-content-center\">\n                <div className='user-name'> User</div>\n                \n                <button onClick={logout} className=\"logoutBtn\">\n                    Logout <LogoutIcon className='logout-icon'/>{\" \"}\n                </button>\n            </div>\n            <div class=\"messageDataCont\">\n                <div class=\"messageData\">\n                   \n                    <div class=\"default\">\n                        <img src={chatImage} alt='chat' className='home-chat-image'/>\n                        <div className='default-bottom'>\n                        <span className='home-prompt'>Welcome <span>{username}</span>,<br />Click a user name to start a chat !</span>\n                        <span>Made by: <br />@TemuLala <br />@BekiBere</span>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>;\n\n\n    return (\n      \n        <div>\n            {table_name === 'DEFAULT' ? nulldisplay : chatdisplay}\n        </div>\n\n    );\n}\n\nexport default Chat;\n\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}